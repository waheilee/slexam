<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <!-- 编码格式 -->
    <meta charset="utf-8">
    <!-- IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- 设置 viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0">
    <meta name="Keywords" content="桑磊法考,司法考试,考试,司法,律师">
    <!-- 上述3个meta标签*必须*放在最前面，任何其他内容都*必须*跟随其后！ -->
    <!-- 兼容国产浏览器的高速模式 -->
    <meta name="renderer" content="webkit">
    <title>历年真题库 - 2017年国家司法考试试卷一</title>
    <!--设置网页的图标-->
    <link rel="shortcut icon" href="">
    <!--公用的css-->
    <link type="text/css" href="__PUBLIC__/Wx/css/public.css" rel="stylesheet"/>
    <!--本页面的css-->
    <link type="text/css" href="__PUBLIC__/Wx/css/answer.css" rel="stylesheet"/>
    <link type="text/css" href="__PUBLIC__/Wx/css/swiper.css" rel="stylesheet"/>
</head>
<body>
<!--题目要求-->
<div class="stem-title" id="stem-title-way">
    <div class="wrap">
        <div class="left">
            <span class="st-name">单项选择题</span>
            （共&nbsp;&nbsp;<span class="st-class-num singledatanum"></span>&nbsp;&nbsp;道题，<span class="st-class-f">1</span>分/题。）
        </div>
        <div class="right">
            <span class="st-num">1</span><span>/<span class="singledatanum" style="margin:0"></span></span>
        </div>
    </div>
</div>
<div class="swiper-container">
    <div id="swiper-wrapper" class="swiper-wrapper">
        <!--<div class="swiper-slide">-->
            <!--&lt;!&ndash;题&ndash;&gt;-->
            <!--<div class="subject wrap">-->
                <!--&lt;!&ndash;题干&ndash;&gt;-->
                <!--<div class="sj-title">-->
                    <!--全面推进依法治国，总目标是建设中国特色社会主义法治体系，建设社会主义法治国家。关于对全面推进依法治国的重大意义和总目标的理解，下列哪一选项是不正确的？-->
                <!--</div>-->
                <!--&lt;!&ndash;答案&ndash;&gt;-->
                <!--<dl>-->
                    <!--<dd><div class="sj-circle">A</div><p>依法治国事关我们党执政兴国，事关人民的幸福安康，事关党和国家的长治久安</p><div class="clearfix"></div></dd>-->
                    <!--<dd class="active"><div class="sj-circle">B</div><p>依法治国是实现国家治理体系和治理能力现代化的必然要求 </p><div class="clearfix"></div></dd>-->
                    <!--<dd><div class="sj-circle">C</div><p>总目标包括形成完备的法律规范体系和高效的法律实施体系</p><div class="clearfix"></div></dd>-->
                    <!--<dd class="wrong"><div class="sj-circle">D</div><p>通过将全部社会关系法律化，为建设和发展中国特色社会主义法治国家提供保障</p><div class="clearfix"></div></dd>-->
                <!--</dl>-->
            <!--</div>-->
            <!--&lt;!&ndash;错误提示&ndash;&gt;-->
            <!--<div class="rightnote">-->
                <!--<div class="wrap">-->
                    <!--<img src="__PUBLIC__/Wx/images/answer/wrong.png" alt=""/>-->
                    <!--<span class="mr80">错误</span>-->
                    <!--<span>正确答案：</span>-->
                    <!--<span class="rightkey">D</span>-->
                <!--</div>-->
            <!--</div>-->
            <!--&lt;!&ndash;下一题&ndash;&gt;-->
            <!--<div class="nextsubject">下一题</div>-->
        <!--</div>-->
    </div>
    <!--&lt;!&ndash; 如果需要导航按钮 &ndash;&gt;-->
    <!--<div class="swiper-button-prev"></div>-->
    <!--<div class="swiper-button-next"></div>-->
</div>
<!--功能菜单-->
<div id="shopnav">
    <div class="wrap">
        <ul>
            <li onclick="shopNav(this)">
                <img src="__PUBLIC__/Wx/images/answer/shopnav/1.png" alt=""/>
                <p>在线留言</p>
            </li>
            <li onclick="shopNav(this)">
                <img src="__PUBLIC__/Wx/images/answer/shopnav/2.png" alt=""/>
                <p style="margin-top: 0.04rem;">答题卡</p>
            </li>
            <li onclick="shopNav(this)">
                <img src="__PUBLIC__/Wx/images/answer/shopnav/3.png" alt=""/>
                <p>订制课堂</p>
            </li>
            <li onclick="shopNav(this)">
                <img src="__PUBLIC__/Wx/images/answer/shopnav/4.png" alt=""/>
                <p class="timeTextBox" style="margin-top: -0.06rem;"></p>
            </li>
            <div class="clearfix"></div>
        </ul>
    </div>
</div>
<!--弹出层-->
<div id="modelbox">
    <!--在线留言-->
    <div id="message" class="modelbox-children">
        <div class="m-title">在线留言</div>
        <!--这个隐藏域是留言问题的值-->
        <input type="hidden" name="" value=""/>
        <div class="m-name" data="no" onclick="gainMessageName(this)">
            <div class="wrap">
                <div class="left">
                    您针对留言问题
                </div>
                <div class="right m-arrow">
                    <span>&nbsp;&nbsp;&gt;</span>
                </div>
                <div class="m-name-look right">
                    本道题
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="m-name-children">
            <div class="wrap">
                <div class="m-name-children-text">测试测试测测试测试测测试测试测测试测试测测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
                <div class="m-name-children-text">测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
                <div class="m-name-children-text">测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
            </div>
        </div>
        <div class="wrap">
            <div class="m-name nobor">
                <div class="left">
                    请填写留言信息
                </div>
            </div>
            <!--留言信息-->
            <textarea name="" id=""></textarea>
        </div>
        <!--提交按钮-->
        <div class="m-submit" onclick="submitMessage(this)">
            提交留言
        </div>
        <div class="m-note">
            <div class="wrap">
                <!--站内消息的链接-->
                * 注：针对您提的问题，我们会安排专门的老师为您解答，请留意 在线交流 - <a href="#">站内消息</a>
            </div>
        </div>
    </div>
    <!--订制课堂-->
    <div id="madetoclass" class="modelbox-children">
        <!--title-->
        <div class="mtc-title">
            订制课堂
            <span>(5元/题，20元/卷)</span>
        </div>
        <!--这个隐藏域是订制题的值-->
        <input type="hidden" name="" value=""/>
        <div class="m-name" data="no" onclick="gainMessageName(this)">
            <div class="wrap">
                <div class="left">
                    您即将订制的是
                </div>
                <div class="right m-arrow">
                    <span>&nbsp;&nbsp;&gt;</span>
                </div>
                <div class="m-name-look right">
                    本道题
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="m-name-children">
            <div class="wrap">
                <div class="m-name-children-text">测试测试测测试测试测测试测试测测试测试测测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
                <div class="m-name-children-text">测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
                <div class="m-name-children-text">测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
            </div>
        </div>
        <!--这个隐藏域是付费分类的值-->
        <input type="hidden" name="" value=""/>
        <div class="m-name" data="no" onclick="gainMessageName(this)">
            <div class="wrap">
                <div class="left">
                    您选择付费分类
                </div>
                <div class="right m-arrow">
                    <span>&nbsp;&nbsp;&gt;</span>
                </div>
                <div class="m-name-look right">
                    众筹预定 <span>（9.5折）</span>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
        <div class="m-name-children">
            <div class="wrap">
                <div class="m-name-children-text">测试测试测测试测试测测试测试测测试测试测测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
                <div class="m-name-children-text">测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
                <div class="m-name-children-text">测试测试测试测试测试测试测试测试测试测试测试测试测试</div>
            </div>
        </div>
        <!--备注信息-->
        <div class="wrap">
            <div class="m-name">
                <div class="left">
                    请添加备注信息
                </div>
                <div class="clearfix"></div>
            </div>
            <textarea name=""></textarea>
        </div>
        <!--法豆支付-->
        <button onclick="submitMadeToClass(this)" type="button" class="mtc-button">
            <img src="__PUBLIC__/Wx/images/answer/pay/fd.png" alt=""/>
            <span>法豆支付</span>
            <span class="little">(法豆不足，余28法豆)</span>
        </button>
        <!--微信支付-->
        <button onclick="submitMadeToClass(this)" type="button" class="mtc-button mtc-button-wx">
            <img src="__PUBLIC__/Wx/images/answer/pay/wx.png" alt=""/>
        </button>
        <div class="mtc-note">
            <div class="wrap">
                * 注：此订单为预约订单，提交审核过后，1.自己买断，独家订制；2.等待满额人数，人数满每单所需的法豆/金额，会给您发送邮件。
            </div>
        </div>
    </div>
    <!--已用时间-->
    <div id="usedtime" class="modelbox-children">
        <img src="__PUBLIC__/Wx/images/answer/time.png" alt=""/>
        <div class="ut-title">您已用时 <span class="timeTextBox"></span></div>
        <div class="ut-button" onclick="startTime(this)">继续做题</div>
    </div>
    <!--关闭的掩盖层-->
    <div id="closemodelbox" onclick="closeModelBox()"></div>
</div>
<form action="{:U('mark')}" method="post" id='form'> 
    <input type="hidden" name='answer' id='answer' value=''>
</form>
<!--答题卡-->
<div id="answersheet" class="m-children">
    <!--考卷名称-->
    <div class="as-name">
        <div class="wrap">历年真题库 - 2017年国家司法考试试卷一</div>
    </div>
    <!--单项选择题 题型说明-->
    <div class="as-title">
        <div class="wrap">
            单项选择题
            <span>(共计<span class='singledatanum' style='margin:0'></span>道题，1分/题)</span>
        </div>
    </div>
    <!--单选答题卡-->
    <div class="as-sheet-1 as-sheet-x wrap">
        <!--<div class="as-s-list">1</div>-->

    </div>
    <!--多项选择题 题型说明-->
    <div class="as-title">
        <div class="wrap">
            多项选择题
            <span>(共计<span class='complexdatanum' style='margin:0'></span>道题，2分/题)</span>
        </div>
    </div>
    <!--单选答题卡-->
    <div class="as-sheet-2 as-sheet-x wrap">
        <!--<div class="as-s-list">1</div>-->
    </div>
    <!--不定项选择题 题型说明-->
    <div class="as-title">
        <div class="wrap">
            不定项选择题
            <span>(共计<span class='storymorecomplexdatanum' style='margin:0'></span>道题，2分/题)</span>
        </div>
    </div>
    <!--单选答题卡-->
    <div id="as-sheet-3" class="as-sheet-3 as-sheet-x wrap">
        <!--<div class="as-s-list">1</div>-->
    </div>
    <!--现在交卷-->
    <input type="hidden" id='zid' value='{$zid}'>
    <input type="hidden" id='kid' value='{$kid}'>
    <input type="hidden" id='jid' value='{$jid}'>
    <input type="hidden" id='did' value='{$did}'>
    <input type="hidden" id='diffi' value='{$diffi}'>
    <input type="hidden" id='time'  value="0">
    <input type='hidden' id='usetime' value=''>
    <input type='hidden' id='range' value='{$range}'>
    <input type='hidden' id='_token' value='{$token}'>

    <div class="submitanswersheet" onclick="submitSheetNum(this)">现在交卷</div>
</div>
<script src="__PUBLIC__/Wx/js/jquery-1.11.3.js" type="text/javascript"></script>
<script src="__PUBLIC__/Wx/js/swiper.jquery.min.js" type="text/javascript"></script>
<!--题目数据包-->
<script type="text/javascript">
    //        单选题
    var singleData = {$radio};
    //        多选题
    var complexData = {$check};
    //        不定项里的故事题
    var storyData= {$history};
    //        不定项里的多选题
    var moreComplexData = {$term};
    //    单选题答题结果
    var singleFinishData = [];
    //    多选题答题结果
    var complexFinishData = [];
    //    不定项里的故事题结果
    var storyFinishData = [];
    //    不定项里的多选题结果
    var moreComplexFinishData = [];
</script>
<!--初始化题数-->
<script type="text/javascript">
    $(function(){
        $(".singledatanum").each(function(){
            $(this).html(singleData.length);
        });
        $(".complexdatanum").each(function(){
            $(this).html(complexData.length);
        });
        $(".storymorecomplexdatanum").each(function(){
            $(this).html(storyData.length+moreComplexData.length);
        });
    });
</script>
<!--卷面排题-->
<script>
    //    <!--卷面排题-->
    var rankTestPaper = function() {
//        生成一个从0开始的定义个数的随机不重复数组
        function randomNum(n) {
            var arr = [];
            for (var i = 0; i < n; i++) {
                getx(arr);
            }
            function getx(arr) {
                for (var i = 0; i > -1; i++) {
                    var flag = true;
                    var num = Math.floor(Math.random() * n);
                    for (var i in arr) {
                        if (arr[i] == num) {
                            flag = false;
                            break;
                        }
                    }
                    if (flag == true) {
                        arr.push(num);
                        return;
                    }
                }
            }

            return arr;
        }

//        页面初始化加载 单选题
        function startRankSingle() {
            var answerBox = $("#swiper-wrapper");
            for (var i = 0; i < singleData.length; i++) {
                var str = '<div class="swiper-slide">' +
                        '<div class="subject wrap single">' +
                        '<div class="sj-title" types="single" id="' + (i + 1) + '" data="' + singleData[i].sign + '" right="' + singleData[i].right + '">' + singleData[i].name + '</div>' +
                        '<dl>';

                var arr = randomNum(singleData[i].option.length);
                var abcd = ["A", "B", "C", "D", "E", "F", "G", "H"];
                for (var k = 0; k < singleData[i].option.length; k++) {
                    str += '<dd data="' + singleData[i].option[(arr[k])].sign + '"><div class="sj-circle">' + abcd[k] + '</div><p>' + singleData[i].option[(arr[k])].answer + '</p><div class="clearfix"></div></dd> ';
                }
                str += '</dl> ' +
                        '</div>' +
                        '<div class="rightnote"> ' +
                        '<div class="wrap"> ' +
                        '<img src="images/answer/wrong.png" alt=""/> ' +
                        '<span class="mr80">错误</span> ' +
                        '<span>正确答案：</span> ' +
                        '<span class="rightkey"></span> ' +
                        '</div> ' +
                        '</div>' +
                        '<div class="nextsubject">下一题</div> ' +
                        '</div>'
                answerBox.append(str);
            }
            ;
        };
//        页面初始化加载 多选题
        function startRankComplex() {
            var answerBox = $("#swiper-wrapper");
            for (var i = 0; i < complexData.length; i++) {
                var str = '<div class="swiper-slide">' +
                        '<div class="subject wrap complex">' +
                        '<div class="sj-title" types="complex" id="' + (51 + i) + '" data="' + complexData[i].sign + '" right="' + complexData[i].right + '">' + complexData[i].name + '</div>' +
                        '<dl>';

                var arr = randomNum(complexData[i].option.length);
                var abcd = ["A", "B", "C", "D", "E", "F", "G", "H"];
                for (var k = 0; k < complexData[i].option.length; k++) {
                    str += '<dd data="' + complexData[i].option[(arr[k])].sign + '"><div class="sj-circle">' + abcd[k] + '</div><p>' + complexData[i].option[(arr[k])].answer + '</p><div class="clearfix"></div></dd> ';
                }
                str += '</dl> ' +
                        '</div>' +
                        '<div class="rightnote"> ' +
                        '<div class="wrap"> ' +
                        '<img src="images/answer/wrong.png" alt=""/> ' +
                        '<span class="mr80">错误</span> ' +
                        '<span>正确答案：</span> ' +
                        '<span class="rightkey"></span> ' +
                        '</div> ' +
                        '</div>' +
                        '<div class="nextsubject">下一题</div> ' +
                        '</div>'
                answerBox.append(str);
            }
            ;
        };
//        页面初始化加载 不定项选择题故事题
        function startRankStory() {
            var answerBox = $("#swiper-wrapper");
            for (var i = 0; i < storyData.length; i++) {
                var str = '<div class="swiper-slide">' +
                        '<div class="subject wrap story">' +
                        '<div class="sj-title">题干：' + storyData[i].name + '<span>（请回答下面' + storyData[i].option.length + '题）</span></div> ';
                for (var z = 0; z < storyData[i].option.length; z++) {
                    str += '<div class="sj-title sj-title-answer" types="story" id="' + (91 + z) + '" data="' + storyData[i].option[z].sign + '" right="' + storyData[i].option[z].right + '">' + storyData[i].option[z].name + '</div><dl> '
                    var arr = randomNum(storyData[i].option[z].option.length);
                    var abcd = ["A", "B", "C", "D", "E", "F", "G", "H"];
                    for (var k = 0; k < storyData[i].option[z].option.length; k++) {
                        str += '<dd data="' + storyData[i].option[z].option[(arr[k])].sign + '"><div class="sj-circle">' + abcd[k] + '</div><p>' + storyData[i].option[z].option[(arr[k])].answer + '</p><div class="clearfix"></div></dd> '
                    }
                    ;
                    str += '</dl> ' +
                            '<div class="rightnote"> ' +
                            '<div class="wrap"> ' +
                            '<img src="images/answer/wrong.png" alt=""/> ' +
                            '<span class="mr80">错误</span> ' +
                            '<span>正确答案：</span> ' +
                            '<span class="rightkey">D</span> ' +
                            '</div> ' +
                            '</div>';
                }
                str += '</div>' +
                        '<div class="nextsubject">下一题</div> ' +
                        '</div>'
                answerBox.append(str);
            }
            ;
        };
//        页面初始化加载 不定项选择题多选题
        function startRankMoreComplex() {
            var answerBox = $("#swiper-wrapper");
            for (var i = 0; i < moreComplexData.length; i++) {
                var str = '<div class="swiper-slide">' +
                        '<div class="subject wrap morecomplex">' +
                        '<div class="sj-title" types="morecomplex" id="' + (100 - moreComplexData.length + i) + '" data="' + moreComplexData[i].sign + '" right="' + moreComplexData[i].right + '">' + moreComplexData[i].name + '</div>' +
                        '<dl>';

                var arr = randomNum(moreComplexData[i].option.length);
                var abcd = ["A", "B", "C", "D", "F", "E", "G", "H"];
                for (var k = 0; k < moreComplexData[i].option.length; k++) {
                    str += '<dd data="' + moreComplexData[i].option[(arr[k])].sign + '"><div class="sj-circle">' + abcd[k] + '</div><p>' + moreComplexData[i].option[(arr[k])].answer + '</p><div class="clearfix"></div></dd> ';
                }
                str += '</dl> ' +
                        '</div>' +
                        '<div class="rightnote"> ' +
                        '<div class="wrap"> ' +
                        '<img src="images/answer/wrong.png" alt=""/> ' +
                        '<span class="mr80">错误</span> ' +
                        '<span>正确答案：</span> ' +
                        '<span class="rightkey"></span> ' +
                        '</div> ' +
                        '</div>' +
                        '<div class="nextsubject">下一题</div> ' +
                        '</div>'
                answerBox.append(str);
            }
            ;
        };
        startRankSingle();
        startRankComplex();
        startRankStory();
        startRankMoreComplex();
//        单项选择题选项绑定事件
        $("#swiper-wrapper").find(".single").children("dl").on("click", "dd", function () {
            if ($(this).hasClass("dis") === false) {
                $(this).addClass("active").siblings("dd").removeClass("active");
                $(this).parents(".subject").siblings(".nextsubject").addClass("active");
            }
        });
//        多项选择题选项绑定事件
        $("#swiper-wrapper").find(".complex").children("dl").on("click", "dd", function () {
            if ($(this).hasClass("dis") === false) {
                if ($(this).attr("yn") == "yes") {
                    $(this).removeClass("active");
                    $(this).attr("yn", "no");
                    var sb = $(this).siblings("dd");
//                    如果一个也没有选中 则取消下一题确认答案的active
                    var sbyesno = false;
                    for (var s = 0; s < sb.length; s++) {
                        if ($(sb[s]).hasClass("active")) {
                            sbyesno = true;
                        }
                    }
                    if (sbyesno === false) {
                        $(this).parents(".subject").siblings(".nextsubject").removeClass("active");
                    }
                } else {
                    $(this).addClass("active");
                    $(this).attr("yn", "yes");
                    $(this).parents(".subject").siblings(".nextsubject").addClass("active");
                }
            }
        });
//        不定项故事题选项绑定事件
        $("#swiper-wrapper").find(".story").children("dl").on("click", "dd", function () {
            if ($(this).hasClass("dis") === false) {
                if ($(this).attr("yn") == "yes") {
                    $(this).removeClass("active");
                    $(this).attr("yn", "no");
                    var sb = $(this).parents(".subject").find("dd");
//                    如果一个也没有选中 则取消下一题确认答案的active
                    var sbyesno = false;
                    for (var s = 0; s < sb.length; s++) {
                        if ($(sb[s]).hasClass("active")) {
                            sbyesno = true;
                        }
                    }
                    if (sbyesno === false) {
                        $(this).parents(".subject").siblings(".nextsubject").removeClass("active");
                    }
                } else {
                    $(this).addClass("active");
                    $(this).attr("yn", "yes");
                    $(this).parents(".subject").siblings(".nextsubject").addClass("active");
                }
            }
        });
//        不定项多选题选项绑定事件
        $("#swiper-wrapper").find(".morecomplex").children("dl").on("click", "dd", function () {
            if ($(this).hasClass("dis") === false) {
                if ($(this).attr("yn") == "yes") {
                    $(this).removeClass("active");
                    $(this).attr("yn", "no");
                    var sb = $(this).parents(".subject").find("dd");
//                    如果一个也没有选中 则取消下一题确认答案的active
                    var sbyesno = false;
                    for (var s = 0; s < sb.length; s++) {
                        if ($(sb[s]).hasClass("active")) {
                            sbyesno = true;
                        }
                    }
                    if (sbyesno === false) {
                        $(this).parents(".subject").siblings(".nextsubject").removeClass("active");
                    }
                } else {
                    $(this).addClass("active");
                    $(this).attr("yn", "yes");
                    $(this).parents(".subject").siblings(".nextsubject").addClass("active");
                }
            }
        });
    };
    rankTestPaper();
</script>
<!--功能菜单-->
<script type="text/javascript">
//    功能菜单的点击
    function shopNav(t){
        window.scrollTo(0,0);
        var i = $(t).index();
        if(i==0){
            $('#modelbox').show();
            $('#message').slideDown();
        }else if(i==1){
            $("#answersheet").fadeIn(200);
        }else if(i==2){
            $('#modelbox').show();
            $("#madetoclass").slideDown(200);
        }else if(i==3){
            $('#modelbox').show();
            $("#usedtime").slideDown(200);
        }
//        暂停计时器
        stopTime();
    }
</script>
<!--关闭弹出层-->
<script>
    function closeModelBox(){
        $("#modelbox").hide();
        $("#modelbox").find(".modelbox-children").hide();
//       开始计时器
        startTime();
    };
</script>
<!--选择问题调用函数-->
<script type="text/javascript">
    //    选择问题
    function gainMessageName(t){
        if($(t).attr("data")=="no"){
            $(t).attr("yesno","yes").find(".m-arrow").addClass("active");
            $(t).next(".m-name-children").slideDown();
            $(t).attr("data","yes");
        }else{
            $(t).attr("yesno","yes").find(".m-arrow").removeClass("active");
            $(t).next(".m-name-children").slideUp();
            $(t).attr("data","no");
        }
//        绑定事件点击把值赋给隐藏域
        $(t).next(".m-name-children").find(".m-name-children-text").bind("click",function(){
            $(t).find(".m-name-look").html($(this).html());
            $(t).prev("input").val($(this).html());
            $(t).attr("yesno","yes").find(".m-arrow").removeClass("active");
            $(t).next(".m-name-children").slideUp();
            $(t).attr("data","no");
        });
    };
</script>
<!--在线留言-->
<script type="text/javascript">
//    提交留言
    function submitMessage(t){
        window.scrollTo(0,0)
      $(t).parents("#message").slideUp();
      $(t).parents("#modelbox").fadeOut();
        //       开始计时器
        startTime();
    };
</script>
<!--订制课堂-->
<script type="text/javascript">
    function submitMadeToClass(t){
        window.scrollTo(0,0)
        $(t).parents("#madetoclass").slideUp(200);
        $(t).parents("#modelbox").fadeOut();
        //       开始计时器
        startTime();
    };
</script>
<!--答题卡-->
<script type="text/javascript">
//    循环出答题卡按钮 d位dom盒子  n为题数  x为序列号（从0开始）
    function sheetNum(d,n,x){
        var str = ""
        var k = x;
        for(var i = 1;i<=n;i++){
            str += '<div data="'+k+'" class="as-s-list">'+i+'</div>';
            if(i==(n)){
                str += '<div class="clearfix"></div>';
            }
            k++;
        };
        $("#answersheet").find(d).append(str);
    };
//    单项答题卡
    sheetNum('.as-sheet-1',singleData.length,0);
//    多项答题卡
    sheetNum('.as-sheet-2',complexData.length,singleData.length);
//    不定项答题卡
//        获取故事题个数
        function storyDataNum(){
            var n = 0;
            for(var i = 0;i<storyData.length;i++){
                for(var k = 0;k<storyData[i].option.length;k++){
                    n++;
                }
            }
            return n;
    };
    var storyn = storyDataNum();
    sheetNum('.as-sheet-3',storyn+moreComplexData.length,complexData.length+singleData.length);

//    提交答卷
    function submitSheetNum(t){
        $('*[types="single"]').each(function(){
            if($(this).next("dl").children(".active").length==0){
                var td = $(this).attr("data");
                var str = {name: td, answer: "", type: "radio"};
                singleFinishData.push(str);
            }
        });
        $('*[types="complex"]').each(function(){
            if($(this).next("dl").children(".active").length==0){
                var td = $(this).attr("data");
                var str = {name: td, answer: "", type: "check"};
                complexFinishData.push(str);
            }
        });
        $('*[types="story"]').each(function(){
            if($(this).next("dl").children(".active").length==0){
                var td = $(this).attr("data");
                var str = {name: td, answer: "", type: "story"};
                storyFinishData.push(str);
            }
        });
        $('*[types="morecomplex"]').each(function(){
            if($(this).next("dl").children(".active").length==0){
                var td = $(this).attr("data");
                var str = {name: td, answer: "", type: "term"};
                moreComplexFinishData.push(str);
            }
        });

        goSub();
    };
</script>
<!--计时器-->
<script>
    var hour,minute,second;//时 分 秒
    hour=minute=second=0;//初始化
    var millisecond=0;//毫秒
    var int;
    function Reset()//重置
    {
        window.clearInterval(int);
        millisecond=hour=minute=second=0;
        document.getElementById('timetext').value='00时00分00秒000毫秒';
    }

    function startTime(t)//开始
    {
        window.scrollTo(0,0)
        $('#usedtime').hide();
        $('#modelbox').hide();
        int=setInterval(timer,100);
    }
    startTime();

    var millnamenum = 0;
    function timer()//计时
    {   
        millnamenum++;
        millisecond=millisecond+100;
        if(millisecond>=1000)
        {
            millisecond=0;
            second=second+1;
        }
        if(second>=60)
        {
            second=0;
            minute=minute+1;
        }

        if(minute>=60)
        {
            minute=0;
            hour=hour+1;
        }
        $(".timeTextBox").html(hour+':'+minute+':'+second);
        $("#time").val(hour+':'+minute+':'+second);
        $("#usetime").val(millnamenum);

    }

    function stopTime()//暂停
    {
        window.clearInterval(int);
    }
</script>
<!--滑屏-->
<script type="text/javascript">
//    初始化滑动swiper
    function mySwiperInitial(){
        //    初始化swiper
        var mySwiper = new Swiper ('.swiper-container', {
            autoHeight: true, //高度随内容变化
            direction: 'horizontal',//横向滑动
            observer:true,//修改swiper自己或子元素时，自动初始化swiper
            speed: 1200,
            initialSlide: 0,
            onSlideChangeEnd: function(swiper){
//                console.log(swiper.activeIndex); //切换结束时，告诉我现在是第几个slide
                stemTitle(parseFloat(swiper.activeIndex)+1);

            },
        });
        //    答题卡的点击对应所属题号
        $("#answersheet").find(".as-sheet-x").on("click",".as-s-list",function(){
            window.scrollTo(0,0);
            var data = parseFloat(($(this).attr("data")));
            stemTitle(data+1);
            mySwiper.slideTo(data, 200, false);//切换到第n个slide
//            $("html,body").animate({scrollTop:$("#"+data).offset().top},1000);
            $("#answersheet").slideUp(200);
            $("#modelbox").fadeOut();
//        开始计时器
            startTime();
        });
        //    改变故事题答题卡的指向题号
        function storyListSheet(){
            var dom = $("#as-sheet-3").find(".as-s-list");
            var sdn = storyDataNum();
            var n = 0;
            var ibs = 0;
            var arr = [];
            for(var ia = 0;ia<storyData.length;ia++){
                arr.push(storyData[ia].option.length);
            };
            for(var ib = 0;ib<sdn;ib++){
                for(var ic = 0;ic<arr[ib];ic++){
                    $(dom[n]).attr("data",((singleData.length+complexData.length)+ib));
                    n++;
                }
            };
            for(var id = 0;id<moreComplexData.length;id++){
                $(dom[n]).attr("data",((singleData.length+complexData.length)+storyData.length+id));
                n++;
            }
        }
        storyListSheet();
        //     获取故事题的个数
        function storyDataNum(){
            var n = 0;
            for(var i = 0;i<storyData.length;i++){
                for(var k = 0;k<storyData[i].option.length;k++){
                    n++;
                }
            }
            return n;
        }
        //     title信息变化
        function stemTitle(n) {
            window.scrollTo(0,0);
            var name = $("#stem-title-way").find(".st-name");
            var classnum = $("#stem-title-way").find(".st-class-num");
            var classf = $("#stem-title-way").find(".st-class-f");
            var num = $("#stem-title-way").find(".st-num");
            var span = $("#stem-title-way").find(".st-num").next("span");
            console.log(n)
            if (n <=singleData.length) {
                name.html("单项选择题");
                classnum.html(singleData.length);
                classf.html("1");
                num.html(n);
                span.html("/"+singleData.length);
            } else if (singleData.length < n && n<=(singleData.length+complexData.length)){
                name.html("多项选择题");
                classnum.html(complexData.length);
                classf.html("2");
                num.html(n - singleData.length);
                span.html("/"+complexData.length);
            } else if( n > (complexData.length+singleData.length) ) {
                name.html("不定项选择题");
                classnum.html(complexData.length);
                classf.html("6");
                num.html(n - (complexData.length+singleData.length));
                span.html("/"+(moreComplexData.length+storyData.length));
            }
        }
        //          单选题的下一题
        $("#swiper-wrapper").find(".single").parents(".swiper-slide").on("click",".nextsubject",function(){
            if($(this).hasClass("active")){
                var a = $(this).siblings(".subject").find(".active").attr("data");
                var yesa = $(this).siblings(".subject").find(".sj-title").attr("right");
                var td = $(this).siblings(".subject").find(".sj-title").attr("data");
                var dd = $(this).siblings(".subject").find("dd");
//                比较正确答案
                if(a.toLowerCase()!=yesa.toLowerCase()){
                    $(this).prev(".rightnote").show();
                    for(var ddi = 0;ddi<dd.length;ddi++){
                        if($(dd[ddi]).attr("data")==yesa){
                            $(dd[ddi]).addClass("wrong");
                            var rightkey = $(dd[ddi]).find(".sj-circle").html();
                        }
                    }
                    $(this).prev(".rightnote").find(".rightkey").html(rightkey.toUpperCase());
                }
                if($(this).hasClass("ed")===false){
                    //存入数组
                    var str = {name: td, answer: a, type: "radio"};
                    singleFinishData.push(str);
                    $(this).addClass("ed");
                }
//                禁止修改
                $(this).siblings(".subject").find("dd").addClass("dis").siblings("dd").addClass("dis");
//                下一页
                mySwiper.slideNext();
                console.log(singleFinishData);
            }
        });
        //          多选题的下一题
        $("#swiper-wrapper").find(".complex").parents(".swiper-slide").on("click",".nextsubject",function(){
            if($(this).hasClass("active")){
                var dd = $(this).siblings(".subject").find("dd");
                var a = $(this).siblings(".subject").find(".active");
//                选中答案
                var arr1 = [];
                for(var aai = 0;aai< a.length;aai++){
                    arr1.push($(a[aai]).attr("data"));
                }
                var yesa = $(this).siblings(".subject").find(".sj-title").attr("right");
//                正确答案
                var arr2 = yesa.split(",");
                var arr3=[];
//                比较所选答案和正确答案
                for(var s in arr1){
                    for(var x in arr2){
                        if(arr1[s].toLowerCase()==arr2[x].toLowerCase()){
                            arr3.push(arr1[s].toLowerCase());
                        }
                    }
                }
                if(arr3.length!=arr2.length||arr3.length!=arr1.length){
                    $(this).prev(".rightnote").show();
                    var rightkey = '';
                    for(var ddi = 0;ddi<dd.length;ddi++){
                        for(var arrli = 0;arrli<arr2.length;arrli++){
                            if($(dd[ddi]).find(".sj-circle").html().toLowerCase()==arr2[arrli]){
                                $(dd[ddi]).addClass("wrong");
                                rightkey += $(dd[ddi]).find(".sj-circle").html().toUpperCase()+",";
                            }
                        }
                    }
                    $(this).prev(".rightnote").find(".rightkey").html(rightkey);
                }
//                题号
                var td = $(this).siblings(".subject").find(".sj-title").attr("data");

                if($(this).hasClass("ed")===false){
                    //存入数组
                    for(var stri = 0;stri<arr1.length;stri++){
                        complexFinishData.push({name: td, answer: arr1[stri], type: "check"});
                    }
                    $(this).addClass("ed");
                }
//                禁止修改
                $(this).siblings(".subject").find("dd").addClass("dis").siblings("dd").addClass("dis");
//                下一页
                mySwiper.slideNext();
                console.log(complexFinishData);
            }
        });
        //          不定项选择题的故事题的下一题
        $("#swiper-wrapper").find(".story").parents(".swiper-slide").on("click",".nextsubject",function(){
            if($(this).hasClass("active")){
                var  answer = $(this).prev(".story").find(".sj-title-answer");

                for(var answeri = 0;answeri<answer.length;answeri++){
                   if($(answer[answeri]).next("dl").find(".active").length>0){
                       var dd = $(answer[answeri]).next("dl").find("dd");
                       var a = $(answer[answeri]).next("dl").find(".active");
//                选中答案
                       var arr1 = [];
                       for(var aai = 0;aai< a.length;aai++){
                           arr1.push($(a[aai]).attr("data"));
                       }
                       var yesa = $(answer[answeri]).attr("right");
//                正确答案
                       var arr2 = yesa.split(",");
                       var arr3=[];
//                比较所选答案和正确答案
                       for(var s in arr1){
                           for(var x in arr2){
                               if(arr1[s].toLowerCase()==arr2[x].toLowerCase()){
                                   arr3.push(arr1[s].toLowerCase());
                               }
                           }
                       }
                       console.log(":::arr1::::"+arr1+":::arr2:::"+arr2+":::arr3:::"+arr3);
                       if(arr3.length!=arr2.length||arr3.length!=arr1.length){
                           $(answer[answeri]).next("dl").next(".rightnote").show();
                           var rightkey = '';
                           for(var ddi = 0;ddi<dd.length;ddi++){
                               for(var arrli = 0;arrli<arr2.length;arrli++){
                                   if($(dd[ddi]).find(".sj-circle").html().toLowerCase()==arr2[arrli]){
                                       $(dd[ddi]).addClass("wrong");
                                       rightkey += $(dd[ddi]).find(".sj-circle").html().toUpperCase()+",";
                                   }
                               }
                           }
                           $(answer[answeri]).next("dl").next(".rightnote").find(".rightkey").html(rightkey);
                       }
//                题号
                       var td = $(answer[answeri]).attr("data");

                       if($(answer[answeri]).hasClass("ed")===false){
                           //存入数组
                           for(var stri = 0;stri<arr1.length;stri++){
                               storyFinishData.push({name: td, answer: arr1[stri], type: "story"});
                           }
                           $(answer[answeri]).addClass("ed");
                       }
//                禁止修改
                       $(answer[answeri]).next("dl").find("dd").addClass("dis");
                       console.log(storyFinishData);
                   }
                }
                //                下一页
                mySwiper.slideNext();
            }
        });
        //          不定项多选题的下一题
        $("#swiper-wrapper").find(".morecomplex").parents(".swiper-slide").on("click",".nextsubject",function(){
            if($(this).hasClass("active")){
                var dd = $(this).siblings(".subject").find("dd");
                var a = $(this).siblings(".subject").find(".active");
//                选中答案
                var arr1 = [];
                for(var aai = 0;aai< a.length;aai++){
                    arr1.push($(a[aai]).attr("data"));
                }
                var yesa = $(this).siblings(".subject").find(".sj-title").attr("right");
//                正确答案
                var arr2 = yesa.split(",");
                var arr3=[];
//                比较所选答案和正确答案
                for(var s in arr1){
                    for(var x in arr2){
                        if(arr1[s].toLowerCase()==arr2[x].toLowerCase()){
                            arr3.push(arr1[s].toLowerCase());
                        }
                    }
                }
                if(arr3.length!=arr2.length||arr3.length!=arr1.length){
                    $(this).prev(".rightnote").show();
                    var rightkey = '';
                    for(var ddi = 0;ddi<dd.length;ddi++){
                        for(var arrli = 0;arrli<arr2.length;arrli++){
                            if($(dd[ddi]).find(".sj-circle").html().toLowerCase()==arr2[arrli]){
                                $(dd[ddi]).addClass("wrong");
                                rightkey += $(dd[ddi]).find(".sj-circle").html().toUpperCase()+",";
                            }
                        }
                    }
                    $(this).prev(".rightnote").find(".rightkey").html(rightkey);
                }
//                题号
                var td = $(this).siblings(".subject").find(".sj-title").attr("data");

                if($(this).hasClass("ed")===false){
                    //存入数组
                    for(var stri = 0;stri<arr1.length;stri++){
                        moreComplexFinishData.push({name: td, answer: arr1[stri], type: "term"});
                    }
                    $(this).addClass("ed");
                }
//                禁止修改
                $(this).siblings(".subject").find("dd").addClass("dis").siblings("dd").addClass("dis");
//                下一页
                mySwiper.slideNext();
                console.log(moreComplexFinishData);
            }
        });
    };
    mySwiperInitial();

    var goSub = function(){
        window.clearInterval(int);
        var str = "请稍等，分数正在计算中...";
        var kid = $('#kid').val();
        var zid = $('#zid').val();
        var did = $('#did').val();
        var diffi = $('#diffi').val();
        var time = $('#time').val();
        var usetime = $('#usetime').val();
        var range = $('#range').val();
        var name = "{$nickname}";
        var exmainid = "{$examinid}";
        var token = "{$token}";

        $.ajax({
            url : '{:U("Score")}',
            type:'post',
            data:{'radio':singleFinishData,'check':complexFinishData,'story':storyFinishData,'term':moreComplexFinishData,'kid':kid,'zid':zid,'did':did,'time':time,'diffi':diffi,'name':name,'exmainid':exmainid,'usetime':usetime,'token':token,'range':range},
            beforeSend: function () {
                $('.submitanswersheet').attr('disabled',true);
                $("#opencheck").find("p").append(str);
                $("#opencheck").show();
            },
            success:function(msg){
                //console.log(msg);
                $('.submitanswersheet').attr('disabled',false);
                if(msg != 'false'){
                    $('#answer').val(msg);
                    $('#form').submit();
                }
            }
        })
    }
</script>
</body>
</html>